b.innerHTML="<center><p onclick=g(1,3,3,f=1)>XnO<p onclick=g(3,3,3,f=1)>XnO3D<p onclick=g(1,6,7,f=2)>Find4<p onclick=g(1,8,8,f=0)>Reversi<p id=B><p id=C>O",g=function(b,g,h){for(c=e=1,i=0,d=[],f||(d[27]=d[36]=-1,d[28]=d[35]=1),B.innerHTML="";b--;){for(a="<p><table border>",j=g;j--;)for(a+="<tr>",k=h;k--;)d[i]=d[i]||0,a+="<th width=20 onclick=m(this,"+i+") id=t"+i+">"+"X\xa0O"[d[i++]+1];B.innerHTML+=a}},m=function(b,g){if(e&&!d[g]){if(1==f){for(b.innerHTML="XnO"[c+1],a=3*(d[g]=c),i=3;i--;)for(j=3;j--;)if(d[9*i+j]+d[9*i+j+3]+d[9*i+j+6]==a||d[9*i+3*j]+d[9*i+3*j+1]+d[9*i+3*j+2]==a||d[9*i+0]+d[9*i+4]+d[9*i+8]==a||d[9*i+2]+d[9*i+4]+d[9*i+6]==a||d[3*i]+d[9+3*i+1]+d[18+3*i+2]==a||d[3*i+2]+d[9+3*i+1]+d[18+3*i]==a||d[i]+d[9+i+3]+d[18+i+6]==a||d[i+6]+d[9+i+3]+d[18+i]==a||d[0]+d[13]+d[26]==a||d[2]+d[13]+d[24]==a||d[8]+d[13]+d[18]==a||d[6]+d[13]+d[20]==a||d[3*i+j]+d[9+3*i+j]+d[18+3*i+j]==a)return C.innerHTML="XnO"[c+1]+" won",e=0,void 0}else if(2==f&&g>34||d[g+7])for(b.innerHTML="XnO"[c+1],a=4*(d[g]=c),i=6;i--;)for(j=7;j--;)if(4>j&&d[7*i+j]+d[7*i+j+1]+d[7*i+j+2]+d[7*i+j+3]==a||3>i&&d[7*i+j]+d[7*i+j+7]+d[7*i+j+14]+d[7*i+j+21]==a||3>i&&4>j&&d[7*i+j]+d[7*i+j+8]+d[7*i+j+16]+d[7*i+j+24]==a||3>i&&j>2&&d[7*i+j]+d[7*i+j+6]+d[7*i+j+12]+d[7*i+j+18]==a)return C.innerHTML="XnO"[c+1]+" won",e=0,void 0;c=-c,C.innerHTML="XnO"[c+1],-1==d.indexOf(0)&&(C.innerHTML="Draw",e=0)}}